{% extends "otree_markets/Page.html" %}
{% load staticfiles otree %}

{% block title %}
    Market
{% endblock %}

{% block scripts %}
    <script type="module" src="/static/otree_visual_markets/visual_markets.js"></script>
    <script type="module" src="/static/otree_visual_markets/currency_scaler.js"></script>
    <script type="module" src="/static/otree_markets/disable_interface_overlay.js"></script>
{% endblock %}

{% block styles %}
    <style>
        /* disable otree page title header */
        .otree-title.page-header {
            display: none;
        }
    </style>
{% endblock %}

{% block content %}

    <disable-interface-overlay
    ></disable-interface-overlay>

    <currency-scaler
        x-scale="{{ config.x_currency_scale }}"
        y-scale="{{ config.y_currency_scale }}"
    ></currency-scaler>

    <!-- note that x_bounds and y_bounds here are the scaled bounds from vars_for_template, not the bounds from the config -->
    <visual-markets
        x-bounds="{{ x_bounds }}"
        y-bounds="{{ y_bounds }}"
        max-utility="{{ config.max_utility }}"
        utility-function-string="{{ config.utility_function }}"
        heatmap-enabled="{{ config.heatmap_enabled }}"
        show-n-best-orders="{{ config.show_n_best_orders }}"
        show-n-most-recent-trades="{{ config.show_n_most_recent_trades }}"
        show-own-trades-only="{{ config.show_own_trades_only }}"
    ></visual-markets>

{% endblock %}
